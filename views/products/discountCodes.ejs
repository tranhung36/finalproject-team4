<div class="container">
    <table class="table table-striped table-hover table-bordered paginated">
        <thead>
            <tr>
                <th scope="col">STT</th>
                <th scope="col">Code</th>
                <th scope="col">Name</th>
                <th scope="col">Discount</th>
                <th scope="col">Expires At</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <% coupons.forEach((coupon, index) => {%>
            <% const validTo = new Date(coupon.validTo) %>
            <tr>
                <td><%= index + 1 %></td>
                <td>
                    <p id="<%= coupon.code %>"><%= coupon.code %></p>
                </td>
                <td><%= coupon.name %></td>
                <td><%= coupon.amount %>%</td>
                <td><%= validTo.toLocaleString() %></td>
                <td>
                    <button class="btn btn-primary" onclick="copyToClipboard('#<%= coupon.code %>')">Lấy mã</button>
                </td>
            </tr>
            <% }) %>
        </tbody>
    </table>
</div>

<script>
    function copyToClipboard(element) {
        var $temp = $("<input>");
        $("body").append($temp);
        $temp.val($(element).text()).select();
        document.execCommand("copy");
        $temp.remove();
    }
</script>